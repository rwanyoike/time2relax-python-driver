---
- method: PUT
  url: '/design_query'
  status: 201
  json: '{ "ok": true }'

- method: PUT
  url: '/design_query/_design/people'
  status: 201
  json: '{ "ok": true, "id": "_design/people", "rev": "1-005eb11fec6020c5f1fc16a657db4c55" }'

- method: PUT
  url: '/design_query/p_derek'
  status: 201
  json: '{ "id": "p_derek", "ok": true, "rev": "1-41fcaa01a6955cb2126e4efa7958d99b" }'

- method: PUT
  url: '/design_query/p_randall'
  status: 201
  json: '{ "id": "p_randall", "ok": true, "rev": "1-d73dfdb15d5ba044ab4c70e342813739" }'

- method: PUT
  url: '/design_query/p_nuno'
  status: 201
  json: '{ "id": "p_nuno", "ok": true, "rev": "1-52cb6652a394b96ad9133c2c7f3b8d95" }'

- method: GET
  url: '/design_query/_design/people/_view/by_name_and_city?key=%5B%22Derek%22%2C+%22San+Francisco%22%5D'
  json: '{ "offset": 0, "rows": [ { "id": "p_derek", "key": [ "Derek", "San Francisco" ], "value": "p_derek" } ], "total_rows": 3 }'
  match_querystring: True

- method: GET
  url: '/design_query/_design/people/_view/by_name_and_city?key=%5B%22Derek%22%2C+%22San+Francisco%22%5D'
  json: '{ "offset": 0, "rows": [ { "id": "p_derek", "key": [ "Derek", "San Francisco" ], "value": "p_derek" } ], "total_rows": 3 }'
  match_querystring: True

- method: GET
  url: '/design_query/_design/people/_view/by_name_and_city?key=%5B%22Derek%22%2C+%22San+Francisco%22%5D'
  json: '{ "offset": 0, "rows": [ { "id": "p_derek", "key": [ "Derek", "San Francisco" ], "value": "p_derek" } ], "total_rows": 3 }'
  match_querystring: True

- method: DELETE
  url: '/design_query'
  json: '{ "ok": true }'
